var J=Object.defineProperty,Q=Object.defineProperties;var U=Object.getOwnPropertyDescriptors;var w=Object.getOwnPropertySymbols;var X=Object.prototype.hasOwnProperty,Y=Object.prototype.propertyIsEnumerable;var b=(o,t,n)=>t in o?J(o,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):o[t]=n,T=(o,t)=>{for(var n in t||(t={}))X.call(t,n)&&b(o,n,t[n]);if(w)for(var n of w(t))Y.call(t,n)&&b(o,n,t[n]);return o},$=(o,t)=>Q(o,U(t));import{r,j as e,L as Z,a as ee,T as B,b as c,c as z,F as M,B as E,A as te,d as oe,I as O,e as ne,f as I,g as se,h as re,S as ae,i as ie,k as le,l as ce,m as de,n as D,o as ue,p as ge,q as pe,s as he,t as xe,u as fe,v as me,C as N,D as j,w as F,x as H,y as Ce,z as Ie,E as Se,G as ve,R as Le,H as Ae,J as ye,K as Be,M as Me,N as Ee,O as Oe,P as ke}from"./vendor.b1693dd2.js";const _e=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerpolicy&&(i.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?i.credentials="include":s.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}};_e();const Pe="modulepreload",q={},Re="/",k=function(t,n){return!n||n.length===0?t():Promise.all(n.map(a=>{if(a=`${Re}${a}`,a in q)return;q[a]=!0;const s=a.endsWith(".css"),i=s?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${i}`))return;const l=document.createElement("link");if(l.rel=s?"stylesheet":Pe,s||(l.as="script",l.crossOrigin=""),l.href=a,document.head.appendChild(l),s)return new Promise((g,p)=>{l.addEventListener("load",g),l.addEventListener("error",p)})})).then(()=>t())},x=r.exports.createContext({sideBarIsOpen:!1,cartIsOpen:!1,toggleSideBar(){},toggleCart(){}}),we=({children:o})=>{const[t,n]=r.exports.useState(!1),[a,s]=r.exports.useState(!1),i=()=>{n(!t)},l=()=>{s(!a)};return e(x.Provider,{value:{sideBarIsOpen:t,cartIsOpen:a,toggleSideBar:i,toggleCart:l},children:o})},S=({children:o,to:t})=>e(Z,{component:ee,to:t,underline:"none",color:"inherit",children:o}),V=o=>e(B,$(T({variant:"h5",color:"inherit",sx:{flexGrow:1}},o),{children:c(S,{to:"/",children:[e(B,{variant:"inherit",component:"span",color:"primary",children:"VN"}),"SPORT"]})})),f=(()=>{let o=localStorage.getItem("token")||null,t=localStorage.getItem("role")||null;const n={admin:"admin",sale:"sale",storage:"storage",customer:""},a=()=>o!==null,s=d=>{o=d,localStorage.setItem("token",d)};return{isLoggedIn:a,logIn:async(d,A)=>{const{data:u,status:h}=await z.post("/api/user/signin",{email:d,password:A}).catch(C=>({status:C.request.status,data:C.response.data}));return h===200&&(s(u.token),u.role&&localStorage.setItem("role",u.role)),h===500&&alert("something happen, please try again"),{status:h,role:u.role}},signup:async({name:d,email:A,dob:u,gender:h,password:C})=>{let y=null;try{y=await z.post("/api/user/signup",{name:d,email:A,dob:u,gender:h,password:C})}catch(W){y=W.response}const{status:P,data:R}=y;return P===200&&s(R.token),{status:P,data:R}},logout:()=>{o=null,localStorage.removeItem("token"),localStorage.removeItem("role")},getRole:()=>t,getAxiosAuthorizationConfig:()=>({headers:{Authorization:`Bearer ${o}`}}),availableRole:n}})(),m=r.exports.createContext({isLoggedIn:!1,role:"",toggleLoggedIn(){},setRole(){}}),be=({children:o})=>{const[t,n]=r.exports.useState(!1),[a,s]=r.exports.useState("");r.exports.useEffect(()=>{n(f.isLoggedIn()),s(f.getRole())},[]);const i=()=>{n(!t)};return e(m.Provider,{value:{isLoggedIn:t,toggleLoggedIn:i,role:a,setRole:s},children:o})},v=r.exports.createContext({loginModalIsOpen:!1,signupModalIsOpen:!1,toggleLoginModal(){},toggleSignupModal(){}}),Te=({children:o})=>{const[t,n]=r.exports.useState(!1),[a,s]=r.exports.useState(!1),i=()=>{n(!t)},l=()=>{s(!a)};return e(v.Provider,{value:{loginModalIsOpen:t,signupModalIsOpen:a,toggleLoginModal:i,toggleSignupModal:l},children:o})},G=({children:o,onClick:t=()=>{}})=>{const n=r.exports.useContext(v);return e("div",{onClick:a=>{n.toggleSignupModal(),t(a)},children:o})},$e=()=>{const o=r.exports.useContext(x),t=r.exports.useContext(m);return e(M,{children:e(E,{sx:{flexGrow:1},children:e(te,{position:"sticky",color:"",children:c(oe,{children:[e(O,{size:"large",edge:"start",color:"primary","aria-label":"menu",sx:{mr:2},onClick:o.toggleSideBar,children:e(ne,{})}),e(V,{}),!t.isLoggedIn&&e(G,{children:e(I,{color:"primary",children:"\u0110\u0103ng k\xFD"})}),t.isLoggedIn&&e(O,{color:"primary",children:e(se,{fontSize:"large"})}),e(O,{color:"primary",onClick:o.toggleCart,children:e(re,{fontSize:"large"})})]})})})})},ze=({children:o,onClick:t=()=>{}})=>{const n=r.exports.useContext(v);return e("div",{onClick:a=>{n.toggleLoginModal(),t(a)},children:o})},K=r.exports.createContext({showSuccessAlert(o){}}),De=({children:o})=>{const[t,n]=r.exports.useState(!1),[a,s]=r.exports.useState(""),i=l=>{n(!0),s(l)};return c(K.Provider,{value:{showSuccessAlert:i},children:[e(ae,{open:t,autoHideDuration:3e3,onClose:()=>{n(!1)},children:e(ie,{severity:"success",children:a})}),o]})},Ne=()=>{const o=r.exports.useContext(m),t=r.exports.useContext(K);return e(I,{variant:"outlined",startIcon:e(le,{}),onClick:()=>{f.logout(),o.toggleLoggedIn(),o.setRole(""),t.showSuccessAlert("\u0110\u0103ng xu\u1EA5t th\xE0nh c\xF4ng")},children:"\u0110\u0103ng xu\u1EA5t"})},L=({startIcon:o,endIcon:t,text:n,onClick:a})=>e(ce,{disablePadding:!0,onClick:a,children:c(de,{children:[e(D,{sx:{mr:0},children:o}),e(ue,{primary:n}),e(D,{sx:{mr:0},children:t})]})}),je=({toggleAdminMenu:o})=>{const t=r.exports.useContext(m);return c(ge,{children:[t.role===f.availableRole.admin&&e(L,{onClick:o,startIcon:e(pe,{}),endIcon:e(he,{}),text:"Qu\u1EA3n l\xFD"}),e(S,{to:"/",children:e(L,{startIcon:e(xe,{}),text:"Trang ch\u1EE7"})}),e(S,{to:"/products",children:e(L,{startIcon:e(fe,{}),text:"S\u1EA3n ph\u1EA9m"})}),e(S,{to:"/contact",children:e(L,{startIcon:e(me,{}),text:"Li\xEAn h\u1EC7"})})]})},Fe=r.exports.lazy(()=>k(()=>import("./AdminNavigationList.ca23c7d3.js"),["assets/AdminNavigationList.ca23c7d3.js","assets/vendor.b1693dd2.js"])),He=()=>{const o=r.exports.useContext(x),t=r.exports.useContext(m),[n,a]=r.exports.useState(!1),[s,i]=r.exports.useState(!1);r.exports.useEffect(()=>{t.isLoggedIn||(a(!1),i(!1))},[t.isLoggedIn]);const l=()=>o.toggleSideBar(),g=()=>i(!s),p=()=>a(!n),[_,d]=r.exports.useState(null);return r.exports.useEffect(()=>{t.role===f.availableRole.admin&&d(e(r.exports.Suspense,{fallback:e(N,{}),children:e(Fe,{toggleAdminMenu:p})}))},[t.role]),c(j,{anchor:"left",open:o.sideBarIsOpen,onClose:l,children:[e(V,{variant:"h5",sx:{mx:9,my:1}}),e(F,{}),!s&&e(H,{direction:"right",in:!n,onExited:g,children:e(E,{children:e(je,{toggleAdminMenu:p})})}),s&&e(H,{direction:"left",in:n,onExited:g,children:e(E,{children:_})}),e(F,{}),c(Ce,{direction:"row",sx:{justifyContent:"center",my:1},spacing:2,children:[!t.isLoggedIn&&c(M,{children:[e(G,{onClick:l,children:e(I,{variant:"contained",children:"\u0110\u0103ng K\xFD"})}),e(ze,{onClick:l,children:e(I,{variant:"outlined",children:"\u0110\u0103ng nh\u1EADp"})})]}),t.isLoggedIn&&e(Ne,{})]})]})},qe=()=>{const o=r.exports.useContext(x);return e(j,{anchor:"right",open:o.cartIsOpen,onClose:o.toggleCart,children:"Hello"})},Ve=r.exports.lazy(()=>k(()=>import("./LoginModal.53e15bff.js"),["assets/LoginModal.53e15bff.js","assets/vendor.b1693dd2.js","assets/LoadingButton.999a56f0.js"])),Ge=r.exports.lazy(()=>k(()=>import("./SignupModal.6db3b54d.js"),["assets/SignupModal.6db3b54d.js","assets/vendor.b1693dd2.js","assets/LoadingButton.999a56f0.js"])),Ke=()=>{const o=r.exports.useContext(v),t=r.exports.useContext(x),n=e(Ie,{sx:{color:"#fff",zIndex:a=>a.zIndex.drawer+1},open:!0,children:e(N,{color:"inherit"})});return c(M,{children:[o.signupModalIsOpen&&e(r.exports.Suspense,{fallback:n,children:e(Ge,{})}),o.loginModalIsOpen&&e(r.exports.Suspense,{fallback:n,children:e(Ve,{})}),t.sideBarIsOpen&&e(He,{}),t.cartIsOpen&&e(qe,{}),e($e,{}),e(B,{variant:"h2",children:"Hello world"})]})};var We=Se({palette:{primary:{main:"#00C5BE",contrastText:ve.white}}});Le.render(e(Ae.StrictMode,{children:e(ye,{children:e(Be,{theme:We,children:e(Me,{dateAdapter:Ee,locale:Oe,children:e(ke,{children:e(be,{children:e(De,{children:e(Te,{children:e(we,{children:e(Ke,{})})})})})})})})})}),document.getElementById("root"));export{m as A,v as M,S as R,L as S,K as a,f as b};
